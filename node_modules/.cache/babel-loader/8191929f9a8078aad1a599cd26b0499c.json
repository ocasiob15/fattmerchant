{"ast":null,"code":"import _slicedToArray from \"/Users/bocasio-MAC/Desktop/sigmacapital/fattmerchant/fattmerchant-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/bocasio-MAC/Desktop/sigmacapital/fattmerchant/fattmerchant-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/bocasio-MAC/Desktop/sigmacapital/fattmerchant/fattmerchant-app/src/App.js\";\nimport React, { useEffect } from 'react';\nimport FattMerchantApi from './apis/FattMerchantApi';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MaterialTable from 'material-table';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport './App.css';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from '@material-ui/core/Table';\nimport Typography from '@material-ui/core/Typography';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { green } from '@material-ui/core/colors';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport RemoveIcon from '@material-ui/icons/Remove';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  },\n  detailsRoot: {\n    width: '100%',\n    overflowX: 'auto'\n  },\n  table: {\n    minWidth: 700\n  },\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  }\n}));\nconst TAX_RATE = 0.07;\n\nfunction ccyFormat(num) {\n  return \"\".concat(num.toFixed(2));\n}\n\nfunction priceRow(qty, unit) {\n  return qty * unit;\n}\n\nfunction createRow(desc, qty, unit, id) {\n  const price = priceRow(qty, unit);\n  return {\n    desc,\n    qty,\n    unit,\n    price,\n    id\n  };\n}\n\nfunction subtotal(items) {\n  return items.map(({\n    price\n  }) => price).reduce((sum, i) => sum + i, 0);\n}\n\nconst variantIcon = {\n  success: CheckCircleIcon\n};\n\nfunction MySnackbarContentWrapper(props) {\n  const classes = useStyles();\n\n  const className = props.className,\n        message = props.message,\n        onClose = props.onClose,\n        variant = props.variant,\n        other = _objectWithoutProperties(props, [\"className\", \"message\", \"onClose\", \"variant\"]);\n\n  const Icon = variantIcon[variant];\n  return React.createElement(SnackbarContent, Object.assign({\n    className: clsx(classes[variant], className),\n    \"aria-describedby\": \"client-snackbar\",\n    message: React.createElement(\"span\", {\n      id: \"client-snackbar\",\n      className: classes.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: clsx(classes.icon, classes.iconVariant),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), message),\n    action: [React.createElement(IconButton, {\n      key: \"close\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(CloseIcon, {\n      className: classes.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }))]\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }));\n}\n\nMySnackbarContentWrapper.propTypes = {\n  className: PropTypes.string,\n  message: PropTypes.string,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired\n};\nconst useStyles2 = makeStyles(theme => ({\n  margin: {\n    margin: theme.spacing(1)\n  }\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const fattMerchantApi = new FattMerchantApi();\n\n  const _React$useState = React.useState({\n    data: null,\n    loading: true,\n    error: false,\n    errorMessage: null,\n    rows: []\n  }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        state = _React$useState2[0],\n        setState = _React$useState2[1];\n\n  const _React$useState3 = React.useState(false),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        open = _React$useState4[0],\n        setOpen = _React$useState4[1];\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    fattMerchantApi.getCatalogItems().then(response => {\n      setState({\n        data: response,\n        loading: false,\n        error: false,\n        errorMessage: state.errorMessage,\n        rows: []\n      });\n      console.log(response);\n    }).catch(error => {\n      setState({\n        data: null,\n        loading: false,\n        error: true,\n        errorMessage: error,\n        rows: []\n      });\n    });\n  }, []);\n\n  if (state.loading) {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(CircularProgress, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }));\n  } else if (state.error) {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"An error occurred\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, state.errorMessage));\n  }\n\n  const columns = [{\n    title: \"Name\",\n    field: \"item\"\n  }, {\n    title: \"Price(USD)\",\n    field: \"price\",\n    type: 'numeric'\n  }, {\n    title: \"Stock\",\n    field: \"in_stock\"\n  }];\n  const invoiceSubtotal = subtotal(state.rows);\n  const invoiceTaxes = TAX_RATE * invoiceSubtotal;\n  const invoiceTotal = invoiceTaxes + invoiceSubtotal;\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    open: open,\n    autoHideDuration: 6000,\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(MySnackbarContentWrapper, {\n    onClose: handleClose,\n    variant: \"success\",\n    message: \"Invoice Successfully created!\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, React.createElement(MaterialTable, {\n    title: \"Catalog\",\n    columns: columns,\n    data: state.data.data,\n    actions: [{\n      icon: AddIcon,\n      tooltip: 'Add Item To Invoice',\n      onClick: (event, rowData) => {\n        if (state.rows.length === 0) {\n          state.rows.push(createRow(rowData.item, 1, rowData.price, rowData.id));\n        } else {\n          let found = false;\n          state.rows.map(row => {\n            if (row.desc === rowData.item) {\n              row.qty++;\n              row.price = row.unit * row.qty;\n              found = true;\n            }\n          });\n\n          if (!found) {\n            state.rows.push(createRow(rowData.item, 1, rowData.price, rowData.id));\n          }\n        }\n\n        state.rows.map(row => {\n          row.price = row.qty * row.unit;\n        });\n        setState({\n          data: state.data,\n          loading: state.loading,\n          error: state.error,\n          errorMessage: state.errorMessage,\n          rows: state.rows\n        });\n      }\n    }, {\n      icon: RemoveIcon,\n      tooltip: 'Remove Item From Invoice',\n      onClick: (event, rowData) => {\n        if (state.rows.length === 0) {\n          return;\n        } else {\n          let found = false;\n          let index = 0;\n          state.rows.map(row => {\n            if (row.desc === rowData.item) {\n              row.qty--;\n              row.price = row.unit * row.qty;\n              found = true;\n\n              if (row.qty === 0) {\n                state.rows.splice(index, 1);\n              }\n            }\n\n            index++;\n          });\n\n          if (!found) {\n            return;\n          }\n        }\n\n        state.rows.map(row => {\n          row.price = row.qty * row.unit;\n        });\n        setState({\n          data: state.data,\n          loading: state.loading,\n          error: state.error,\n          errorMessage: state.errorMessage,\n          rows: state.rows\n        });\n      }\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.detailsRoot,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"body1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285\n    },\n    __self: this\n  }, \"Invoice\"), React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"spanning table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    align: \"center\",\n    colSpan: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289\n    },\n    __self: this\n  }, \"Details\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, \"Price\")), React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295\n    },\n    __self: this\n  }, \"Desc\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296\n    },\n    __self: this\n  }, \"Qty.\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }, \"Unit\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }, \"Sum\"))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, state.rows.map(row => React.createElement(TableRow, {\n    key: row.desc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, row.desc), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }, row.qty), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, row.unit), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, ccyFormat(row.price)))), React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    rowSpan: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }), React.createElement(TableCell, {\n    colSpan: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }, \"Subtotal\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }, ccyFormat(invoiceSubtotal))), React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }, \"Tax\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317\n    },\n    __self: this\n  }, \"\".concat((TAX_RATE * 100).toFixed(0), \" %\")), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318\n    },\n    __self: this\n  }, ccyFormat(invoiceTaxes))), React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    colSpan: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }, \"Total\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322\n    },\n    __self: this\n  }, ccyFormat(invoiceTotal))))), React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: useStyles.submit,\n    onClick: () => {\n      const lineItems = state.rows.map(row => {\n        return {\n          id: row.id,\n          item: row.desc,\n          quantity: row.qty,\n          price: row.price\n        };\n      });\n      setState({\n        data: state.data,\n        loading: true,\n        error: state.error,\n        errorMessage: state.errorMessage,\n        rows: state.rows\n      });\n      fattMerchantApi.createInvoice({\n        customer_id: \"acdd7dc5-69a4-4d31-9187-67d50007e8d0\",\n        payment_method_id: \"68758ae5-ccde-4f95-9dfa-078590a2f070\",\n        meta: {\n          tax: invoiceTaxes,\n          subtotal: invoiceSubtotal,\n          lineItems: lineItems\n        },\n        total: invoiceTotal,\n        url: \"https://omni.fattmerchant.com/#/bill/\",\n        send_now: false,\n        files: []\n      }).then(() => {\n        setOpen(true);\n        state.rows = [];\n        setState({\n          data: state.data,\n          loading: state.loading,\n          error: state.error,\n          errorMessage: state.errorMessage,\n          rows: state.rows\n        });\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326\n    },\n    __self: this\n  }, \"Create Invoice\")))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/bocasio-MAC/Desktop/sigmacapital/fattmerchant/fattmerchant-app/src/App.js"],"names":["React","useEffect","FattMerchantApi","makeStyles","MaterialTable","Grid","CircularProgress","AddIcon","Table","Typography","TableBody","TableCell","TableHead","TableRow","Paper","Button","Snackbar","SnackbarContent","CheckCircleIcon","green","PropTypes","clsx","IconButton","CloseIcon","RemoveIcon","useStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","detailsRoot","width","overflowX","table","minWidth","success","backgroundColor","error","dark","message","display","alignItems","icon","fontSize","iconVariant","opacity","marginRight","TAX_RATE","ccyFormat","num","toFixed","priceRow","qty","unit","createRow","desc","id","price","subtotal","items","map","reduce","sum","i","variantIcon","MySnackbarContentWrapper","props","classes","className","onClose","variant","other","Icon","propTypes","string","func","oneOf","isRequired","useStyles2","margin","App","fattMerchantApi","useState","data","loading","errorMessage","rows","state","setState","open","setOpen","handleClose","event","reason","getCatalogItems","then","response","console","log","catch","columns","title","field","type","invoiceSubtotal","invoiceTaxes","invoiceTotal","vertical","horizontal","tooltip","onClick","rowData","length","push","item","found","row","index","splice","submit","lineItems","quantity","createInvoice","customer_id","payment_method_id","meta","tax","total","url","send_now","files"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport FattMerchantApi from './apis/FattMerchantApi';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MaterialTable from 'material-table';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport './App.css';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from '@material-ui/core/Table';\nimport Typography from '@material-ui/core/Typography';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { green } from '@material-ui/core/colors';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  detailsRoot: {\n    width: '100%',\n    overflowX: 'auto',\n  },\n  table: {\n    minWidth: 700,\n  },\n  success: {\n    backgroundColor: green[600],\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n}));\n\nconst TAX_RATE = 0.07;\n\nfunction ccyFormat(num) {\n  return `${num.toFixed(2)}`;\n}\n\nfunction priceRow(qty, unit) {\n  return qty * unit;\n}\n\nfunction createRow(desc, qty, unit, id) {\n  const price = priceRow(qty, unit);\n  return { desc, qty, unit, price, id };\n}\n\nfunction subtotal(items) {\n  return items.map(({ price }) => price).reduce((sum, i) => sum + i, 0);\n}\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n};\n\nfunction MySnackbarContentWrapper(props) {\n  const classes = useStyles();\n  const { className, message, onClose, variant, ...other } = props;\n  const Icon = variantIcon[variant];\n\n  return (\n    <SnackbarContent\n      className={clsx(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\n          <CloseIcon className={classes.icon} />\n        </IconButton>,\n      ]}\n      {...other}\n    />\n  );\n}\n\nMySnackbarContentWrapper.propTypes = {\n  className: PropTypes.string,\n  message: PropTypes.string,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\n};\n\nconst useStyles2 = makeStyles(theme => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const fattMerchantApi = new FattMerchantApi();\n  const [state, setState] = React.useState({\n    data: null,\n    loading: true,\n    error: false,\n    errorMessage: null,\n    rows: []\n  })\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    fattMerchantApi.getCatalogItems()\n    .then(response => {\n      setState({\n        data: response,\n        loading: false,\n        error: false,\n        errorMessage: state.errorMessage,\n        rows: []\n      })\n      console.log(response)\n    }).catch(error => {\n      setState({\n        data: null,\n        loading: false,\n        error: true,\n        errorMessage: error,\n        rows: []\n      })\n    })\n  }, []);\n\n  if (state.loading) {\n    return (\n      <div className=\"App\">\n        <CircularProgress />\n      </div>\n    )\n  } else if (state.error) {\n    return (\n      <div className=\"App\">\n        <p>An error occurred</p>\n        <p>{state.errorMessage}</p>\n      </div>\n    )\n  }\n\n  const columns = [\n    {title: \"Name\", field: \"item\"},\n    {title: \"Price(USD)\", field: \"price\", type: 'numeric'},\n    {title: \"Stock\", field: \"in_stock\"}\n  ]\n  const invoiceSubtotal = subtotal(state.rows);\n  const invoiceTaxes = TAX_RATE * invoiceSubtotal;\n  const invoiceTotal = invoiceTaxes + invoiceSubtotal;\n  return (\n    <div className=\"App\">\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n      >\n        <MySnackbarContentWrapper\n          onClose={handleClose}\n          variant=\"success\"\n          message=\"Invoice Successfully created!\"\n        />\n      </Snackbar>\n      <Grid container spacing={1}>\n        <Grid item xs={6}>\n          <MaterialTable\n            title=\"Catalog\"\n            columns={columns}\n            data={state.data.data}\n            actions={[\n              {\n                  icon: AddIcon,\n                  tooltip: 'Add Item To Invoice',\n                  onClick: (event, rowData) => {\n                    if (state.rows.length === 0){\n                      state.rows.push(createRow(rowData.item, 1, rowData.price, rowData.id));\n                    } else {\n                      let found = false\n                      state.rows.map(row => {\n                        if (row.desc === rowData.item) {\n                          row.qty++;\n                          row.price = row.unit * row.qty\n                          found = true\n                        }\n                      })\n                      if (!found) {\n                        state.rows.push(createRow(rowData.item, 1, rowData.price, rowData.id))\n                      }\n                    }\n                    state.rows.map(row => {\n                      row.price = row.qty * row.unit\n                    })\n                    setState({\n                      data: state.data,\n                      loading: state.loading,\n                      error: state.error,\n                      errorMessage: state.errorMessage,\n                      rows: state.rows\n                    })\n                  }\n              },\n              {\n                icon: RemoveIcon,\n                tooltip: 'Remove Item From Invoice',\n                onClick: (event, rowData) => {\n                  if (state.rows.length === 0){\n                    return\n                  } else {\n                    let found = false\n                    let index = 0;\n                    state.rows.map(row => {\n                      if (row.desc === rowData.item) {\n                        row.qty--;\n                        row.price = row.unit * row.qty\n                        found = true\n                        if (row.qty === 0){\n                          state.rows.splice(index, 1);\n                        }\n                      }\n                      index++;\n                    })\n                    if (!found) {\n                      return\n                    }\n                  }\n                  state.rows.map(row => {\n                    row.price = row.qty * row.unit\n                  })\n                  setState({\n                    data: state.data,\n                    loading: state.loading,\n                    error: state.error,\n                    errorMessage: state.errorMessage,\n                    rows: state.rows\n                  })\n                }\n            }\n          ]}\n            />\n        </Grid>\n        <Grid item xs={6}>\n          <Paper className={classes.detailsRoot}>\n            <Typography variant=\"body1\">Invoice</Typography>\n            <Table className={classes.table} aria-label=\"spanning table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\" colSpan={3}>\n                    Details\n                  </TableCell>\n                  <TableCell align=\"right\">Price</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Desc</TableCell>\n                  <TableCell align=\"right\">Qty.</TableCell>\n                  <TableCell align=\"right\">Unit</TableCell>\n                  <TableCell align=\"right\">Sum</TableCell>\n                </TableRow>\n              </TableHead>  \n              <TableBody>\n                {state.rows.map(row => (\n                  <TableRow key={row.desc}>\n                    <TableCell>{row.desc}</TableCell>\n                    <TableCell align=\"right\">{row.qty}</TableCell>\n                    <TableCell align=\"right\">{row.unit}</TableCell>\n                    <TableCell align=\"right\">{ccyFormat(row.price)}</TableCell>\n                  </TableRow>\n                ))}\n                <TableRow>\n                  <TableCell rowSpan={3} />\n                  <TableCell colSpan={2}>Subtotal</TableCell>\n                  <TableCell align=\"right\">{ccyFormat(invoiceSubtotal)}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Tax</TableCell>\n                  <TableCell align=\"right\">{`${(TAX_RATE * 100).toFixed(0)} %`}</TableCell>\n                  <TableCell align=\"right\">{ccyFormat(invoiceTaxes)}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell colSpan={2}>Total</TableCell>\n                  <TableCell align=\"right\">{ccyFormat(invoiceTotal)}</TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n            <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={useStyles.submit}\n                onClick={() => {\n                  const lineItems = state.rows.map(row => {\n                    return {\n                      id: row.id,\n                      item: row.desc,\n                      quantity: row.qty,\n                      price: row.price\n                    }\n                  })\n                  setState({\n                    data: state.data,\n                    loading: true,\n                    error: state.error,\n                    errorMessage: state.errorMessage,\n                    rows: state.rows\n                  })\n                  fattMerchantApi.createInvoice(\n                    {\n                      customer_id: \"acdd7dc5-69a4-4d31-9187-67d50007e8d0\",\n                      payment_method_id: \"68758ae5-ccde-4f95-9dfa-078590a2f070\",\n                      meta: {\n                        tax: invoiceTaxes,\n                        subtotal: invoiceSubtotal,\n                        lineItems: lineItems\n                      },\n                      total: invoiceTotal,\n                      url: \"https://omni.fattmerchant.com/#/bill/\",\n                      send_now: false,\n                      files: []\n                    }\n                  ).then(() => {\n                    setOpen(true)\n                    state.rows = []\n                    setState({\n                      data: state.data,\n                      loading: state.loading,\n                      error: state.error,\n                      errorMessage: state.errorMessage,\n                      rows: state.rows\n                    })\n                  })\n                }}\n            >\n                Create Invoice\n            </Button>\n          </Paper>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}